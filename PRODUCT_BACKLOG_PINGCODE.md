# å¢¨è¨€(MOYAN) SaaS - äº§å“åŠŸèƒ½èµ„äº§åº“ (Product Backlog)

**ç®¡ç†è§†å›¾**: PingCode äº§å“ç®¡ç†é¡µ (Product)
**åˆ†ç±»é€»è¾‘**: 5 å¤§æ ¸å¿ƒæ”¯æŸ± (Pillars) -> 13 ä¸ªåŠŸèƒ½æ¨¡å— (Modules)
**çŠ¶æ€æ ‡è®°**: 
- âœ… **[Done]**: å·²å®ç°/MVP
- âš ï¸ **[WIP]**: å¼€å‘ä¸­/éƒ¨åˆ†å®ç°
- â³ **[Pending]**: è§„åˆ’ä¸­

---

## ğŸ—ï¸ æ”¯æŸ±ä¸€ï¼šå¤šæ¨¡æ€æ„ŸçŸ¥ä¸æ‘„å– (Perception & Ingestion)
> å¯¹åº”åŸæ¨¡å—ï¼šæ¨¡å—äº”(è§†é¢‘)ã€æ¨¡å—å…­(å¤šæ¨¡æ€)

### Module 1.1: è§†é¢‘æ‘„å–ä¸é¢„å¤„ç† (Video Ingestion)
- **Feature**: è§†é¢‘æµæ¥å…¥
  - [B][âœ…] **æ–‡ä»¶ä¸Šä¼ **: æ”¯æŒ MP4/MOVï¼Œè‡ªåŠ¨æå–å…ƒæ•°æ®ã€‚
  - [B][âœ…] **æ™ºèƒ½åˆ‡ç‰‡**: åŸºäºå†…å®¹å˜åŒ–åˆ‡åˆ† MediaSegmentï¼Œæ„å»ºæ—¶é—´é“¾è¡¨ã€‚
  - [P][â³] **æµå¼æ¥å…¥**: æ”¯æŒ RTMP/WebRTC å®æ—¶æµåˆ†ç‰‡å­˜å‚¨ã€‚
  - [P][â³] **å¼‚æ­¥å¤„ç†**: `POST /video/upload` è¿”å› task_idï¼Œå¼‚æ­¥å›è°ƒ memory_readyã€‚

### Module 1.2: å¤šæ¨¡æ€ç»“æ„åŒ–æ„ŸçŸ¥ (Multimodal Perception)
- **Feature**: è§†è§‰æ„ŸçŸ¥
  - [B][âœ…] **äººè„¸æ£€æµ‹ä¸è½¨è¿¹**: è·¨å¸§èšåˆ Face Trackï¼Œç”Ÿæˆ Embeddingã€‚
  - [B][âš ï¸] **è·¨é•œå¤´ Re-ID**: å°† Face Track èšç±»ä¸ºå…¨å±€ Person Entityã€‚
  - [P][âš ï¸] **ç‰©ä½“ä¸åœºæ™¯**: é›†æˆ YOLO/Sceneåˆ†ç±»ï¼Œç”Ÿæˆ Object/Place èŠ‚ç‚¹ã€‚
- **Feature**: å¬è§‰æ„ŸçŸ¥
  - [B][âœ…] **è¯­éŸ³è½¬å†™**: éŸ³é¢‘åˆ‡åˆ† + ASRï¼Œç”Ÿæˆå¸¦æ—¶é—´æˆ³çš„æ–‡æœ¬ã€‚
  - [B][âœ…] **å£°çº¹å¯¹é½**: è¯†åˆ«â€œè°åœ¨è¯´è¯â€ï¼Œå…³è” Voice èŠ‚ç‚¹ä¸ Person Entityã€‚

---

## ğŸ§  æ”¯æŸ±äºŒï¼šè®¤çŸ¥ä¸å›¾è°±æ„å»º (Cognition & Graph Construction)
> å¯¹åº”åŸæ¨¡å—ï¼šæ¨¡å—ä¸ƒ(å›¾è°±)ã€æ¨¡å—å…«(è¯­ä¹‰)ã€æ¨¡å—å(TKG)ã€æ¨¡å—åäºŒ(å·©å›º)

### Module 2.1: æ—¶ç©ºå›¾è°±å†…æ ¸ (STKG Kernel)
- **Feature**: å›¾è°± Schema
  - [B][âœ…] **æ ¸å¿ƒèŠ‚ç‚¹**: Entity, Event, Place, Evidence, MediaSegmentã€‚
  - [B][âœ…] **æ ¸å¿ƒå…³ç³»**: NEXT_SEGMENT, INVOLVES, OCCURS_AT, SUMMARIZESã€‚
  - [P][âš ï¸] **é«˜é˜¶å…³ç³»**: CAUSES, CO_OCCURS_WITH, TEMPORAL_NEXT (v0.2)ã€‚

### Module 2.2: è¯­ä¹‰å¢å¼ºä¸æ™ºèƒ½æ„å»º (Semantic Enhancement)
- **Feature**: VLM é©±åŠ¨æ„å»º
  - [P][âœ…] **LLM è¯­ä¹‰å¢å¼º**: åŸºäºæ‘˜è¦ç”Ÿæˆ Episodic/Semantic Memoryã€‚
  - [P][âš ï¸] **Visual Prompting**: VLM è¯»å›¾+BBoxï¼Œç”Ÿæˆç»“æ„åŒ– Event JSONã€‚
  - [P][â³] **è‡ªåŠ¨å›¾æ„å»ºå¼€å…³**: é…ç½®ç½®ä¿¡åº¦é˜ˆå€¼ï¼Œè‡ªåŠ¨å»ºç«‹ Typed Edgeã€‚

### Module 2.3: è®°å¿†å·©å›ºä¸æ¼”åŒ– (Consolidation & Evolution)
- **Feature**: åŠ¨æ€æ¼”åŒ–
  - [P][â³] **äº‹ä»¶åˆå¹¶ (Dreaming)**: ç¦»çº¿å°†å¾®å°äº‹ä»¶åˆå¹¶ä¸ºé«˜å±‚äº‹ä»¶ã€‚
  - [P][â³] **TKG å‰å‘é¢„æµ‹**: å¯¼å‡ºå››å…ƒç»„ç”¨äº RE-Net è®­ç»ƒï¼Œé¢„æµ‹æœªæ¥äº‹ä»¶ã€‚
  - [P][â³] **é—å¿˜æœºåˆ¶**: åŸºäº TTL å’Œé‡è¦æ€§è¡°å‡ï¼Œè‡ªåŠ¨å‰ªæä½ä»·å€¼å…³ç³»ã€‚

---

## ğŸ’¾ æ”¯æŸ±ä¸‰ï¼šè®°å¿†å­˜å‚¨ä¸ç´¢å¼• (Storage & Indexing)
> å¯¹åº”åŸæ¨¡å—ï¼šæ¨¡å—å››(æ–‡æœ¬)ã€æ¨¡å—ä¸€(å­˜å‚¨éƒ¨åˆ†)

### Module 3.1: æ··åˆå­˜å‚¨å¼•æ“ (Hybrid Engine)
- **Feature**: å‘é‡å­˜å‚¨
  - [B][âœ…] **å¤šæ¨¡æ€ç´¢å¼•**: Qdrant å­˜å‚¨ Text/Image/Clip Embeddingã€‚
  - [B][âœ…] **æ··åˆæ‰“åˆ†**: å‘é‡ç›¸ä¼¼åº¦ + BM25 + æ—¶é—´è¡°å‡ã€‚
- **Feature**: æ–‡æœ¬è®°å¿†å­˜å‚¨
  - [B][âœ…] **ä¼šè¯è®°å¿†**: å­˜å‚¨ Dialog Summary + Metadataã€‚
  - [P][âš ï¸] **Fact å‘é‡åº“**: ä¸“é—¨å­˜å‚¨ç»“æ„åŒ– Fact (Preference/Schedule) JSONã€‚

---

## ğŸ” æ”¯æŸ±å››ï¼šå›æƒ³ä¸æœåŠ¡æ¥å£ (Recall & Service)
> å¯¹åº”åŸæ¨¡å—ï¼šæ¨¡å—ä¸‰(æ ¸å¿ƒAPI)ã€æ¨¡å—ä¹(å›æƒ³)ã€æ¨¡å—åä¸‰(å¼€å‘è€…)

### Module 4.1: æ ¸å¿ƒè®°å¿† API (Core APIs)
- **Feature**: é€šç”¨è¯»å†™
  - [B][âœ…] **å†™å…¥ API**: `POST /memory/write` (é€šç”¨ Entry)ã€‚
  - [B][âœ…] **æ£€ç´¢ API**: `POST /memory/search` (æ”¯æŒ Query/Time/Meta è¿‡æ»¤)ã€‚
  - [P][â³] **æ–‡æœ¬ä¸“ç”¨æ£€ç´¢**: `POST /dialog/search` (æŸ¥åå¥½/å†å²)ã€‚

### Module 4.2: ç»“æ„åŒ–å›æƒ³ (Episodic Recall)
- **Feature**: é«˜çº§æŸ¥è¯¢
  - [B][â³] **æ—¶é—´çº¿æ‘˜è¦**: `GET /timeline_summary` (æŒ‰å®ä½“/æ—¶é—´æ®µ)ã€‚
  - [P][â³] **å®ä½“è½¨è¿¹**: `GET /entity_trajectory` (äººç‰©å‡ºç°å†å²)ã€‚
  - [P][â³] **è·¨æ¨¡æ€å›æƒ³**: â€œæˆ‘ä¸Šæ¬¡è¯´è¿™è¯æ—¶ï¼Œè°åœ¨ç°åœºï¼Ÿâ€

### Module 4.3: å¼€å‘è€…ç”Ÿæ€ (Dev Ecosystem)
- **Feature**: æ¥å…¥å·¥å…·
  - [P][âš ï¸] **Python SDK**: å°è£… Write/Search/Graph å®¢æˆ·ç«¯ã€‚
  - [P][â³] **MCP Server**: æä¾›æ ‡å‡† MCP Tool å®šä¹‰ï¼Œä¾› Agent è°ƒç”¨ã€‚

---

## ğŸ›¡ï¸ æ”¯æŸ±äº”ï¼šä¼ä¸šçº§æ§åˆ¶å¹³é¢ (Enterprise Control Plane)
> å¯¹åº”åŸæ¨¡å—ï¼šæ¨¡å—ä¸€(ç§Ÿæˆ·)ã€æ¨¡å—äºŒ(é‰´æƒ)ã€æ¨¡å—åä¸€(ç›‘æ§)

### Module 5.1: ç§Ÿæˆ·ä¸é‰´æƒ (Tenant & Auth)
- **Feature**: å¤šç§Ÿæˆ·
  - [B][âœ…] **éš”ç¦»æ¨¡å‹**: å¼ºåˆ¶ `tenant_id` è¿‡æ»¤ (Qdrant Payload / Neo4j Property)ã€‚
  - [P][â³] **ç§Ÿæˆ·åˆ†å±‚**: Free/Pro/Enterprise é…é¢ç®¡ç†ã€‚
- **Feature**: å®‰å…¨è®¤è¯
  - [B][âœ…] **API Key**: ç”Ÿæˆ/åŠé”€ï¼ŒæœåŠ¡ç«¯æ˜ å°„ tenant_idã€‚
  - [P][â³] **å®¡è®¡æ—¥å¿—**: è®°å½•æ‰€æœ‰è¯»å†™æ“ä½œçš„è°ƒç”¨æ–¹ä¸å‚æ•°ã€‚

### Module 5.2: è¿ç»´ä¸ç›‘æ§ (Ops & Monitor)
- **Feature**: å¯è§‚æµ‹æ€§
  - [B][âš ï¸] **åŸºç¡€ç›‘æ§**: QPS, Latency, Error Rate (Prometheus)ã€‚
  - [P][â³] **ç”¨é‡ç»Ÿè®¡**: æŒ‰ç§Ÿæˆ·ç»Ÿè®¡å­˜å‚¨/Tokenæ¶ˆè€—ï¼Œæ”¯æŒé™æµã€‚
  - [P][â³] **å¥åº·æ£€æŸ¥**: ä¸€é”®æ£€æŸ¥å›¾è°±/å‘é‡åº“ä¸€è‡´æ€§ã€‚
