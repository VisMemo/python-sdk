# 外部基准数据集调研与选型报告

## 1. 调研背景
为了确保 MOYAN 系统的测评方案既具有行业公信力，又能准确反映其在“时空知识记忆”领域的独特优势，我们对当前主流的 Long-Context LLM 与 Memory Agent 基准进行了深入调研。

## 2. 主流基准深度分析

### 2.1 LoCoMo (Long-Context Modeling Benchmark)
*   **发布方**: Emergent Mind / Mem0 采用
*   **核心场景**: 超长对话记忆（平均 19 个 Session，9k+ Token）。
*   **关键任务**:
    *   **QA**: 单跳、多跳、**时序推理 (Temporal Reasoning)**、开放域、对抗性问题。
    *   **Event Summarization**: 基于事件图的摘要生成。
*   **对 MOYAN 的价值**:
    *   **极高关联度**。其 "Temporal Reasoning" 和 "Multi-hop" 任务直接对应 MOYAN 的 L2 和 L3 能力。
    *   **竞品对标**。Mem0 使用此基准声称比 OpenAI Memory 强 26%。我们需要在此基准（或其变体）上证明 MOYAN > Mem0。
*   **局限性**: 它是纯对话（Chat）形式，而 MOYAN 侧重于 LifeLog（事件流）。需要进行数据格式适配。

### 2.2 LongMemEval
*   **发布方**: Zep 采用
*   **核心场景**: 聊天助手长期记忆，覆盖 115k - 1.5M Token。
*   **关键任务**:
    *   **Information Extraction**: 跨 Session 信息提取。
    *   **Knowledge Updates**: **知识更新**（检测用户信息的变更）。
    *   **Abstention**: **拒绝回答**（当信息不足时）。
*   **对 MOYAN 的价值**:
    *   **L5 (否定逻辑) 的完美对标**。"Abstention" 任务正是 MOYAN L5 强调的“否定逻辑/反事实”能力。
    *   **动态性验证**。"Knowledge Updates" 可用于测试 MOYAN 图谱的更新机制（Update vs Append）。
*   **竞品对标**: Zep 在此基准上声称比 Baseline 准确率高 18.5%。

### 2.3 InfiniteBench
*   **核心场景**: >100k Token 的超长上下文。
*   **对 MOYAN 的价值**:
    *   **成本/效率证明**。MOYAN 的核心主张是“用图谱代替超长 Context”。我们可以用 InfiniteBench 的任务，但限制 Context Window（例如只给 Top-k 检索结果），对比“MOYAN + Short Context”与“Native LLM + Long Context”的效果与成本。

### 2.4 GraphRAG-Bench
*   **发布方**: Microsoft
*   **核心场景**: 领域知识图谱问答，多跳推理，**全局摘要 (Global Summarization)**。
*   **对 MOYAN 的价值**:
    *   **诚实展示 Trade-off**。GraphRAG 极强于“全局摘要”（Map-Reduce 机制）。MOYAN 是 Ego-centric 的，可能在此项弱于 GraphRAG。我们应包含此类任务，以明确系统的适用边界（微观溯源 vs 宏观摘要）。

## 3. 选型结论与融合策略

我们不应完全重新发明轮子，而应采取 **"Adopt & Adapt" (采纳并适配)** 策略：

| MOYAN 层级    | 对应外部基准任务                    | 适配策略 (LifeLog-Bench)                                                        |
| :------------ | :---------------------------------- | :------------------------------------------------------------------------------ |
| **L2 (时序)** | **LoCoMo (Temporal Reasoning)**     | 将 LoCoMo 的对话历史转化为 LifeLog 事件流，保留时序依赖，测试 `NEXT_EVENT` 链。 |
| **L3 (多跳)** | **LoCoMo (Multi-hop)**              | 提取 LoCoMo 中的实体关系，转化为 MOYAN 图谱中的 `INVOLVES` / `CO_OCCURS` 边。   |
| **L5 (否定)** | **LongMemEval (Abstention)**        | 直接复用其“信息不足”类问题，测试 MOYAN 在 TimeSlice 聚合下的“空集返回”能力。    |
| **动态更新**  | **LongMemEval (Knowledge Updates)** | 构造“搬家”、“换工作”等状态变更场景，测试 MOYAN 的状态覆盖机制。                 |

**结论**:
MOYAN 的 `LifeLog-Bench` 不应是凭空捏造的，而应是 **LoCoMo 与 LongMemEval 数据集在 LifeLog 领域的投影**。这样做既能利用现有的高质量标注，又能直接与 Mem0 (LoCoMo) 和 Zep (LongMemEval) 进行“同题竞争”。
